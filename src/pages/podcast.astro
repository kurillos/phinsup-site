---
import Layout from '../layouts/BaseLayout.astro';
import episodes from '../data/podcasts.json';
---

<Layout title="Podcast - The Phin Side">
  <main class="max-w-5xl mx-auto py-12 px-6">
    <h1 class="text-4xl font-[Oswald] font-black italic uppercase text-miami-aqua mb-10">
      Phin Side <span class="text-gray-900">Podcast</span>
    </h1>

    <div class="grid gap-8">
      {episodes.map((ep) => (
        <div class="bg-white rounded-2xl shadow-xl overflow-hidden border-l-8 border-miami-aqua flex flex-col md:flex-row">
          <div class="p-6 md:w-1/3 bg-gray-50 flex flex-col justify-center">
            <span class="text-miami-orange font-bold text-xs uppercase">{ep.date}</span>
            <h2 class="font-[Oswald] text-2xl uppercase italic mt-2 text-gray-900">{ep.title}</h2>
          </div>

          <div class="p-6 md:w-2/3">
            <p class="text-sm text-gray-600 mb-4">{ep.description}</p>
            
            <iframe 
              style="border-radius:12px" 
              src={`https://open.spotify.com/embed/episode/${ep.spotifyId}?utm_source=generator&theme=0`} 
              width="100%" 
              height="152" 
              frameBorder="0" 
              allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" 
              loading="lazy">
            </iframe>
          </div>
        </div>
      ))}
    </div>
  </main>
</Layout>